<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Volunteer Registration — DonationConnect</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#f5f7fb; --surface:#fff; --muted:#6b7280; --text:#0b1220; --primary:#2563eb; --radius:12px; --max-w:980px;}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text);padding:28px}
    .wrap{max-width:var(--max-w);margin:0 auto}
    header{margin-bottom:18px}
    h1{margin:0 0 10px;font-size:20px}
    .card{background:var(--surface);padding:20px;border-radius:12px;box-shadow:0 10px 30px rgba(11,18,32,0.06);border:1px solid rgba(11,18,32,0.03)}
    form{display:grid;gap:12px}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    label{display:block;font-size:13px;color:var(--muted);font-weight:600;margin-bottom:6px}
    input[type="text"],input[type="email"],input[type="tel"],select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(11,18,32,0.06);background:linear-gradient(180deg,#fff,#fbfdff);font-size:14px;outline:none}
    textarea{min-height:120px;resize:vertical}
    .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:linear-gradient(90deg,var(--primary),#1e40af);color:#fff}
    .btn.ghost{background:transparent;border:1px solid rgba(37,99,235,0.12);color:var(--primary)}
    .note{font-size:13px;color:var(--muted)}
    @media (max-width:720px){ .grid-2{grid-template-columns:1fr} .actions{flex-direction:column-reverse} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Volunteer Registration</h1>
      <p class="note">Register to volunteer with DonationConnect — fields marked * are required.</p>
    </header>

    <section class="card" aria-labelledby="volunteer-heading">
      <h2 id="volunteer-heading" style="margin-top:0;font-size:16px">Volunteer details</h2>

      <form id="volunteerForm" novalidate>
        <div class="grid-2">
          <div>
            <label for="fullname">Full name *</label>
            <input id="fullname" name="fullname" type="text" required autocomplete="name" />
          </div>
          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required autocomplete="email" />
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label for="phone">Phone *</label>
            <input id="phone" name="phone" type="tel" required placeholder="+1 555 555 5555" />
          </div>
          <div>
            <label for="location">City / Area</label>
            <input id="location" name="location" type="text" />
          </div>
        </div>

        <div>
          <label for="availability">Availability *</label>
          <select id="availability" name="availability" required>
            <option value="">Select availability</option>
            <option>Weekdays (morning)</option>
            <option>Weekdays (evening)</option>
            <option>Weekends</option>
            <option>Flexible</option>
          </select>
        </div>

        <div>
          <label for="roles">Preferred roles (multi-select - hold ctrl/cmd)</label>
          <select id="roles" name="roles" multiple size="4">
            <option>Collection / Pickup</option>
            <option>Sorting & Packing</option>
            <option>Delivery</option>
            <option>Admin & Data</option>
            <option>Community Outreach</option>
          </select>
        </div>

        <div>
          <label for="notes">Additional notes / skills</label>
          <textarea id="notes" name="notes" placeholder="Languages, certifications, mobility notes, etc."></textarea>
        </div>

        <div style="display:flex;align-items:center;gap:8px">
          <input id="agree" name="agree" type="checkbox" required />
          <label for="agree" style="margin:0;font-size:13px;color:var(--muted)">I agree to be contacted regarding volunteer opportunities *</label>
        </div>

        <div class="actions">
          <button type="button" class="btn ghost" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn primary">Register Volunteer</button>
        </div>
      </form>
    </section>
  </div>

  <script>
    (function(){
      const KEY = 'donationconnect:volunteers';
      const form = document.getElementById('volunteerForm');
      const cancel = document.getElementById('cancelBtn');
      function uuidv4(){ return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => { const r = (Math.random()*16)|0; const v = c=='x' ? r : (r&0x3)|0x8; return v.toString(16); }); }
      cancel.addEventListener('click', () => location.href = 'project.html');
      form.addEventListener('submit', function(e){
        e.preventDefault();
        const fullname = form.fullname.value.trim();
        const email = form.email.value.trim();
        const phone = form.phone.value.trim();
        const availability = form.availability.value;
        const roles = Array.from(form.roles.selectedOptions).map(o => o.value);
        const notes = form.notes.value.trim();
        const agree = form.agree.checked;
        if(!fullname || !email || !phone || !availability || !agree){
          alert('Please complete required fields and accept contact consent.');
          return;
        }
        const record = { id: uuidv4(), fullname, email, phone, location: form.location.value.trim() || '', availability, roles, notes, createdAt: new Date().toISOString() };
        try {
          const prev = JSON.parse(localStorage.getItem(KEY) || '[]');
          prev.push(record);
          localStorage.setItem(KEY, JSON.stringify(prev));
          alert('Thank you — volunteer registered.\nYou will be redirected to the dashboard.');
          location.href = 'dashboard.html';
        } catch (err) {
          console.error(err);
          alert('Failed to save registration: ' + (err && err.message));
        }
      });
    })();
  </script>
</body>
</html>